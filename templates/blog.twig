{% extends 'base.twig' %}

{% block body %}
<div class="container">
  <h1 class="mt-3 mb-5">Последние статьи в блоге</h1>
  {% set rowCount = 1 %}
  {% for post in posts %}
    {% if rowCount == 1 %}
      <div class="container-fluid d-flex">
    {% endif %}
      <div class="p-1">
        <div class="card" style="width: 18rem;">
          {% if post.image_path is not null %}
            <img src="/{{ post.image_path }}" class="card-img-top" alt="{{ post.title|escape }}">
          {% else %}
            <img src="https://dummyimage.com/300x200/5b76ba/ffffff" class="card-img-top" alt="{{ post.title|escape }}">
          {% endif %}
          <div class="card-body">
            <a href="/{{ post.url_key }}"><h5 class="card-title">{{ post.title|escape }}</h5></a>
            <p class="card-text">{{ post.description|escape }}</p>
            <a href="/{{ post.url_key }}" class="btn btn-primary">Читать статью</a>
          </div>
        </div>
      </div>
    {% set rowCount = rowCount + 1 %}
    {% if rowCount > 3 %}
      {% set rowCount = 1 %}
    {% endif %}
    {% if rowCount == 1 %}
      </div>
    {% endif %}
  {% endfor %}
</div>
{% endblock %}